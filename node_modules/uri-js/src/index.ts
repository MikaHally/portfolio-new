import {SCHEMES} from "./uri";

import http from "./schemes/http";

SCHEMES[http.scheme] = http;

import https from "./schemes/https";

SCHEMES[https.scheme] = https;

import mailto from "./schemes/mailto";

SCHEMES[mailto.scheme] = mailto;

import urn from "./schemes/urn";

SCHEMES[urn.scheme] = urn;

import uuid from "./schemes/urn-uuid";

SCHEMES[uuid.scheme] = uuid;

export * from "./uri";


// Setup connection Firebase - Airtable
import * as functions from 'firebase-functions';

const env = functions.config();

import * as Airtable from 'airtable';

const base = new Airtable({apiKey: env.airtable.key}).base('appkV1lBq2n2dMwmm');


exports.addToAirtable = functions.firestore
    .document('customers/{customerId}')
    .onCreate((snap, context) => {
        const data = snap.data();

        // Add the data to the Airtable Base
        return base('Clients').create(data)
    });
